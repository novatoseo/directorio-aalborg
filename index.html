<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find Aalborg - Den Ultimative Guide til Sport & Velv√¶re</title>
    <meta name="description" content="Find de bedste fitnesscentre, yoga studios og sportsforeninger i Aalborg. Sammenlign priser, l√¶s anmeldelser og book tid.">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
</head>
<body>

    <header class="sticky-header">
        <div class="container header-content">
            <a href="/" class="logo">FIND<strong>AALBORG</strong></a>
            <div class="desktop-search">
                <input type="text" placeholder="S√∏g efter navn, kategori...">
                <button><span class="material-icons">search</span></button>
            </div>
            <a href="#tilmeld" class="btn-secondary mobile-hide">Tilf√∏j virksomhed</a>
        </div>
    </header>

    <section class="hero-section">
        <div class="hero-bg"></div>
        <div class="container hero-content">
            <h1>Find det bedste <span class="text-highlight">sport & velv√¶re</span> i Aalborg</h1>
            <p class="hero-sub">Negocios verificados, filtros reales y datos actualizados.</p>
            
            <div class="main-search-box">
                <span class="material-icons search-icon">search</span>
                <input type="text" id="heroSearch" placeholder="Hvad leder du efter? (f.eks. Crossfit, Yoga...)">
                <button onclick="buscarHero()">S√òG</button>
            </div>

            <div class="quick-chips">
                <a href="categoria.html?cat=Fitnesscentre%20Aalborg" class="chip">üí™ Fitness</a>
                <a href="categoria.html?cat=Yoga%20Aalborg" class="chip">üßò Yoga</a>
                <a href="categoria.html?cat=Padel%20Aalborg" class="chip">üéæ Padel</a>
                <a href="categoria.html?cat=Kampsport%20Aalborg" class="chip">ü•ã Kampsport</a>
            </div>
        </div>
    </section>

    <section class="container section-padding">
        <h2 class="section-title">Udforsk kategorier</h2>
        <div id="categorias-grid" class="category-grid">
            <div class="loading-skeleton">Henter kategorier...</div>
        </div>
    </section>

    <section class="container section-padding bg-light">
        <h2 class="section-title">Popul√¶re lige nu üî•</h2>
        <p class="section-desc">Udvalgt baseret p√• brugernes anmeldelser og popularitet.</p>
        <div id="featured-grid" class="cards-grid">
            </div>
    </section>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-cols">
                <div>
                    <h3>Om FindAalborg</h3>
                    <p>Vi hj√¶lper dig med at finde de bedste steder til en aktiv livsstil i Aalborg.</p>
                </div>
                <div>
                    <h3>Kategorier</h3>
                    <ul id="footer-cats"></ul>
                </div>
                <div>
                    <h3>For Virksomheder</h3>
                    <a href="#">Opret profil</a>
                    <a href="#">Log ind</a>
                </div>
            </div>
            <div class="footer-bottom">
                &copy; 2025 FindAalborg. Alle rettigheder forbeholdes.
            </div>
        </div>
    </footer>

    <script>
        // L√≥gica simple para cargar datos
        fetch('datos.json').then(r => r.json()).then(data => {
            // 1. Categor√≠as
            const cats = [...new Set(data.map(d => d.kategori))].filter(c=>c).sort();
            const catContainer = document.getElementById('categorias-grid');
            const footerContainer = document.getElementById('footer-cats');
            
            catContainer.innerHTML = cats.map(c => {
                const count = data.filter(d => d.kategori === c).length;
                let icon = 'sports_tennis'; // Default
                if(c.includes('Fitness')) icon = 'fitness_center';
                if(c.includes('Yoga')) icon = 'self_improvement';
                if(c.includes('Dans')) icon = 'music_note';
                
                return `
                <a href="categoria.html?cat=${encodeURIComponent(c)}" class="cat-card">
                    <div class="cat-icon"><span class="material-icons">${icon}</span></div>
                    <div class="cat-info">
                        <h3>${c.replace(' Aalborg', '')}</h3>
                        <span class="count">${count} steder</span>
                    </div>
                </a>`;
            }).join('');

            // Footer links
            footerContainer.innerHTML = cats.slice(0,6).map(c => `<li><a href="categoria.html?cat=${encodeURIComponent(c)}">${c}</a></li>`).join('');

            // 2. Featured (Top Rated)
            const featured = data.sort((a,b) => parseFloat(b.bedoemmelse) - parseFloat(a.bedoemmelse)).slice(0, 4);
            document.getElementById('featured-grid').innerHTML = featured.map(renderCard).join('');
        });

        function renderCard(item) {
            const rating = item.bedoemmelse || '0';
            const reviews = item.antal_anmeldelser || '0';
            const img = item.billede_url && item.billede_url.length > 10 ? item.billede_url : 'https://images.unsplash.com/photo-1571902943202-507ec2618e8f?w=500';
            
            return `
            <a href="ficha.html?name=${encodeURIComponent(item.post_name)}" class="business-card">
                <div class="card-img">
                    <img src="${img}" loading="lazy" alt="${item.image_alt_text}">
                    <span class="badge-verified"><span class="material-icons" style="font-size:12px;margin-right:4px;">verified</span>Verificeret</span>
                </div>
                <div class="card-body">
                    <div class="card-meta">${item.kategori}</div>
                    <h3>${item.post_title}</h3>
                    <div class="card-rating">
                        <span class="stars">‚òÖ ${rating}</span>
                        <span class="reviews">(${reviews} anmeldelser)</span>
                    </div>
                    <div class="card-footer">
                        <span>üìç ${item.adresse.split(',')[0]}</span>
                        <span class="btn-text">Se detaljer ‚Üí</span>
                    </div>
                </div>
            </a>`;
        }

        function buscarHero() {
            const val = document.getElementById('heroSearch').value;
            if(val) window.location.href = 'categoria.html?q=' + encodeURIComponent(val);
        }
    </script>
</body>
</html>
