<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detaljer</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <div style="background:#1a1a1a; padding:15px; text-align:center;">
        <a href="index.html" style="color:white; text-decoration:none; font-weight:bold;">Aalborg Directory</a>
    </div>

    <div class="container" id="app"></div>

    <script>
        const name = new URLSearchParams(window.location.search).get('name');

        fetch('datos.json').then(r => r.json()).then(data => {
            const n = data.find(i => i.post_name === name);
            if(!n) return;

            document.title = `${n.post_title} - Aalborg`;
            let img = n.billede_url && n.billede_url.length > 10 ? n.billede_url : 'https://placehold.co/600x400?text=No+Image';

            document.getElementById('app').innerHTML = `
                <div class="card" style="max-width:800px; margin:0 auto;">
                    <img src="${img}" style="width:100%; height:300px; object-fit:cover;" alt="${n.post_title}">
                    
                    <div class="card-body">
                        <span style="color:var(--primary); font-weight:bold; text-transform:uppercase;">${n.kategori}</span>
                        <h1 style="font-size:2.5rem; margin:10px 0;">${n.post_title}</h1>
                        
                        <div class="rating-badge" style="font-size:1.2rem;">
                            <span class="rating-score">â˜… ${n.bedoemmelse || '-'}</span>
                            <span>Baseret pÃ¥ ${n.antal_anmeldelser || 0} anmeldelser</span>
                        </div>

                        <hr style="border:0; border-top:1px solid #eee; margin:20px 0;">

                        <div class="details-list">
                            <p><span class="material-icons" style="color:var(--primary);">location_on</span> ${n.adresse}</p>
                            <p><span class="material-icons" style="color:var(--primary);">phone</span> ${n.telefon || 'Ikke tilgÃ¦ngelig'}</p>
                            <p><span class="material-icons" style="color:var(--primary);">schedule</span> ${n.aabningstider || 'Se pÃ¥ kortet'}</p>
                        </div>

                        ${n.telefon ? `<a href="tel:${n.telefon}" class="btn-primary" style="text-align:center;">ðŸ“ž RING NU</a>` : ''}
                        
                        ${n.maps_iframe ? n.maps_iframe.replace(/""/g, '"') : ''}
                    </div>
                </div>
            `;
        });
    </script>
</body>
</html>
